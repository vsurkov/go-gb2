# go-gb2

## HW1
1. Для закрепления навыков отложенного вызова функций, напишите программу, содержащую вызов функции, которая будет создавать паническую ситуацию неявно. Затем создайте отложенный вызов, который будет обрабатывать эту паническую ситуацию и, в частности, печатать предупреждение в консоль. Критерием успешного выполнения задания является то, что программа не завершается аварийно ни при каких условиях.
2. Дополните функцию из п.1 возвратом собственной ошибки в случае возникновения панической ситуации. Собственная ошибка должна хранить время обнаружения панической ситуации. Критерием успешного выполнения задания является наличие обработки созданной ошибки в функции main и вывод ее состояния в консоль
3. Для закрепления практических навыков программирования, напишите программу, которая создаёт один миллион пустых файлов в известной, пустой директории файловой системы используя вызов os.Create. Ввиду наличия определенных ограничений операционной системы на число открытых файлов, такая программа должна выполнять аварийную остановку. Запустите программу и дождитесь полученной ошибки. Используя отложенный
   вызов функции закрытия файла, стабилизируйте работу приложения. Критерием успешного выполнения программы является успешное создание миллиона пустых файлов в директории 
4. Выполните задание из блока “Для самостоятельного изучения” данной методички

## HW2
1. Выполните сборку ваших предыдущих программ под операционную систему, отличающуюся от текущей. Проанализируйте вывод команды file для полученного исполняемого файла. Попробуйте запустить исполняемый файл
2. Напишите документацию для одной из предыдущих программ. Запустите сервер документации локально. Убедитесь, что документация отображается корректно.

**Решение:**
1. 
Проверяем что скомпилированное под MacOS через go build ./cmd/less1/main.go приложение не запустится на RaspberryPI:
svs@ubuntu:~$ ./main
-bash: ./main: cannot execute binary file: Exec format error

Компилируем под  linux/arm64:
GOOS=linux GOARCH=arm64 go build ./cmd/less1/main.go

Переносим:
scp ./main svs@192.168.0.11:/home/svs

Проверяем: 
./main
ДЗ 1. Введите целое число в диапазоне от 1 до 4, включительно:
1 - функция с неявной паникой
2 - функция с неявной паникой и возвратом кастомной ошибки
3 - создание миллиона пустых файлов
4 - задание с паникой в горутине
Ваш выбор: 4
recovered A-A-A!!!

2. Проверил работу на пакете github.com/vsurkov/ismg_exporter/pkg/fibonacci
   Дополнено описание для godoc:
* filecreator.go
* goroutinePanic.go